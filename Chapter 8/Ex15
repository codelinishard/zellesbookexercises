from graphics import *
from tkinter.filedialog import askopenfilename, asksaveasfilename
def main():
    print("Select file to greyscale, then window click to start.")
    filename = askopenfilename()
    win = GraphWin("greyscale", 800, 800)
    Fileimage = Image(Point(400,400),filename)
    Fileimage.draw(win)
    Height = Fileimage.getHeight()
    Width = Fileimage.getWidth()
    for x in range(Width):
        for y in range(Height):
            try:
                r,g,b = Fileimage.getPixel(x,y)
                r = 255 -r
                g = 255 - g
                b = 255 - b
                Fileimage.setPixel(x,y,color_rgb(r, g, b))
            except:
                print("pixel invalid")
                break
        Fileimage.undraw()
        Fileimage.draw(win)
        print("done 1 row")
    print("Name file to save, add the .png")
    outfileName = asksaveasfilename()
    Fileimage.save(outfileName)
    
    

main()
